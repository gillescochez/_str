(function(){var d=Array.prototype.slice,f=function(g){return new f.init(g)};f.init=function(g){this[0]=g;return this};f.fn=f.init.prototype;function e(i,h){var g,j,k;for(g in h){j=i[g];k=h[g];if(i===k){continue}if(k!==undefined){i[g]=k}}return i}function c(k,j){if(typeof k==="string"){k=k.split(" ")}var g=k.length||0,h=0;for(;h<g;h++){j(h,k[h])}}function a(g){return(typeof(g)=="string")}function b(g){if(typeof(g)=="object"){return g.constructor==Array}else{return false}}e(f.fn,{manip:function(){this[0]=this["_"+arguments[0]].apply(this,d.call(arguments,1));return this},end:function(){return this[0]},_low:function(){return this[0].toLowerCase()},_up:function(){return this[0].toUpperCase()},_upFirst:function(){return this[0].charAt(0).toUpperCase()+this[0].substr(1)},_upFirstAll:function(){return this[0].replace(/^([a-z])|\s+([a-z])/g,function(g){return g.toUpperCase()})},_rtrim:function(){return this[0].replace(new RegExp("[ \\s\u00A0]+$","g"),"")},_ltrim:function(){return this[0].replace(new RegExp("^[ \\s\u00A0]+","g"),"")},_trim:function(){return this[0].replace(/^\s+|\s+$/g,"")},_reverse:function(){return this[0].split("").reverse().join("")},_replace:function(m,n,k){if(a(m)&&a(n)){if(k){m=new RegExp(m,"gi")}return this[0].replace(m,n)}if(!n&&!k){for(var h in m){this[0]=this[0].replace(h,m[h])}}if(b(m)&&b(n)){for(var j=0,g=m.length;j<len;j++){this[0]=this[0].replace(m[j],n[j])}}return this[0]},_replaceAll:function(g,h){return this._replace(g,h,true)},_remove:function(g){return this[0].replace(g,"")},_removeAll:function(g){return this._replace(g,"",true)}});c("low up upFirst upFirstAll rtrim ltrim trim reverse replace replaceAll remove removeAll",function(g,h){f.fn[h]=function(){var i=d.call(arguments);i.unshift(h);return this.manip.apply(this,i)}});e(f.fn,{_nl2br:function(){return this[0].replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1<br />")}});c("nl2br",function(g,h){f.fn[h]=function(){return this.manip(h)}});window._str=f})();